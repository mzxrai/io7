<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgentHub - NPM for Claude Code Subagents</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;
            background: #000;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255,255,255,0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,0.03) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(255,255,255,0.04) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 60px;
        }

        h1 {
            font-size: 56px;
            margin-bottom: 16px;
            font-weight: 700;
            letter-spacing: -2px;
            background: linear-gradient(to bottom, #fff 0%, #666 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .tagline {
            font-size: 18px;
            color: #888;
            letter-spacing: -0.5px;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .agents-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 30px;
        }

        .pack-builder {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 30px;
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .section-title {
            font-size: 20px;
            margin-bottom: 24px;
            color: #fff;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        .agent-grid {
            display: grid;
            gap: 16px;
        }

        .agent-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
        }

        .agent-card:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .agent-card.selected {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .agent-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .agent-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 20px;
        }

        .agent-info {
            flex: 1;
        }

        .agent-name {
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 2px;
            letter-spacing: -0.3px;
        }

        .agent-category {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        .agent-description {
            color: #888;
            line-height: 1.5;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .agent-stats {
            display: flex;
            gap: 16px;
            font-size: 13px;
            color: #666;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .checkbox-wrapper {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        .checkbox-wrapper input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #fff;
            opacity: 0.8;
        }

        .pack-summary {
            margin-bottom: 20px;
        }

        .selected-agents {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
            min-height: 40px;
        }

        .selected-agent-chip {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .command-box {
            background: #000;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            padding: 16px;
            border-radius: 8px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
            margin-bottom: 20px;
            word-break: break-all;
            font-size: 13px;
        }

        .copy-button {
            background: #fff;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s ease;
            letter-spacing: -0.3px;
        }

        .copy-button:hover {
            background: #f5f5f5;
        }

        .copy-button:active {
            transform: scale(0.98);
        }

        .individual-command {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 12px;
            color: #666;
        }

        .stats-bar {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 40px;
            display: flex;
            justify-content: space-around;
            gap: 20px;
        }

        .cta-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            color: #999;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s ease;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: -0.2px;
        }

        .cta-link:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            transform: translateY(-1px);
        }

        .cta-icon {
            font-size: 16px;
        }

        .empty-state {
            color: #666;
            text-align: center;
            padding: 20px;
            font-size: 14px;
        }

        .view-source-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #999;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-left: auto;
        }

        .view-source-btn:hover {
            border-color: rgba(255, 255, 255, 0.4);
            color: #fff;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: #0a0a0a;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
            letter-spacing: -0.3px;
        }

        .modal-close {
            background: transparent;
            border: none;
            color: #666;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .modal-content {
            padding: 24px;
            overflow-y: auto;
            flex: 1;
        }

        .code-block {
            background: #000;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
            font-size: 13px;
            line-height: 1.6;
            color: #aaa;
            overflow-x: auto;
        }

        .code-yaml {
            color: #666;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .code-yaml .key {
            color: #fff;
        }

        .code-yaml .value {
            color: #888;
        }

        .code-prompt {
            color: #ccc;
            white-space: pre-wrap;
        }

        .modal-footer {
            padding: 20px 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .modal-action-btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }

        .modal-copy-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #999;
        }

        .modal-copy-btn:hover {
            border-color: rgba(255, 255, 255, 0.4);
            color: #fff;
        }

        .modal-install-btn {
            background: #fff;
            color: #000;
        }

        .modal-install-btn:hover {
            background: #f5f5f5;
        }

        .popular-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: linear-gradient(135deg, #fff 0%, #ccc 100%);
            color: #000;
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-left: 8px;
        }

        .popular-badge::before {
            content: 'üî•';
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AgentHub</h1>
            <p class="tagline">The NPM Registry for Claude Code Subagents</p>
        </header>

        <div class="stats-bar">
            <a href="#" class="cta-link">
                <span class="cta-icon">üìù</span>
                Submit Your Agent
            </a>
            <a href="#" class="cta-link">
                <span class="cta-icon">üí¨</span>
                Join Discord
            </a>
            <a href="#" class="cta-link">
                <span class="cta-icon">üìñ</span>
                Read Docs
            </a>
            <a href="#" class="cta-link">
                <span class="cta-icon">‚≠ê</span>
                Star on GitHub
            </a>
        </div>

        <div class="main-grid">
            <div class="agents-section">
                <h2 class="section-title">Available Agents</h2>
                <div class="agent-grid">
                    <div class="agent-card" data-agent="optimize">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="optimize" name="optimize" data-package="@agenthub/optimize">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">üìà</div>
                            <div class="agent-info">
                                <div class="agent-name">Conversion Optimizer<span class="popular-badge">Popular</span></div>
                                <div class="agent-category">Marketing</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            AI-powered conversion rate optimization. Analyzes your site's UX patterns, suggests A/B tests, and provides industry-specific optimization strategies based on your ICP.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">‚¨áÔ∏è 12.4k</div>
                            <div class="stat">üëç 92% (234)</div>
                            <div class="stat">Updated 2d ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('optimize')">View Source</button>
                        </div>
                    </div>

                    <div class="agent-card" data-agent="security">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="security" name="security" data-package="@agenthub/security-audit">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">üîí</div>
                            <div class="agent-info">
                                <div class="agent-name">Security Auditor</div>
                                <div class="agent-category">DevSecOps</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            Continuous security scanning and vulnerability detection. Checks for OWASP Top 10, reviews dependencies, and suggests security hardening measures.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">‚¨áÔ∏è 8.7k</div>
                            <div class="stat">üëç 95% (189)</div>
                            <div class="stat">Updated 5d ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('security')">View Source</button>
                        </div>
                    </div>

                    <div class="agent-card" data-agent="performance">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="performance" name="performance" data-package="@agenthub/perf-optimizer">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">‚ö°</div>
                            <div class="agent-info">
                                <div class="agent-name">Performance Optimizer<span class="popular-badge">Popular</span></div>
                                <div class="agent-category">Infrastructure</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            Identifies performance bottlenecks, suggests optimizations for Core Web Vitals, and provides code splitting strategies tailored to your stack.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">‚¨áÔ∏è 15.2k</div>
                            <div class="stat">üëç 88% (412)</div>
                            <div class="stat">Updated 1w ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('performance')">View Source</button>
                        </div>
                    </div>

                    <div class="agent-card" data-agent="accessibility">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="accessibility" name="accessibility" data-package="@agenthub/a11y-guardian">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">‚ôø</div>
                            <div class="agent-info">
                                <div class="agent-name">Accessibility Guardian</div>
                                <div class="agent-category">Compliance</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            Ensures WCAG 2.1 AA/AAA compliance. Provides detailed accessibility reports, suggests ARIA improvements, and helps maintain inclusive design standards.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">‚¨áÔ∏è 6.3k</div>
                            <div class="stat">Updated 3d ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('accessibility')">View Source</button>
                        </div>
                    </div>

                    <div class="agent-card" data-agent="database">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="database" name="database" data-package="@agenthub/db-architect">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">üóÑÔ∏è</div>
                            <div class="agent-info">
                                <div class="agent-name">Database Architect</div>
                                <div class="agent-category">Backend</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            Optimizes database queries, suggests indexing strategies, and helps design efficient schemas. Supports PostgreSQL, MySQL, MongoDB, and more.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">‚¨áÔ∏è 9.8k</div>
                            <div class="stat">üëç 84% (201)</div>
                            <div class="stat">Updated 1w ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('database')">View Source</button>
                        </div>
                    </div>

                    <div class="agent-card" data-agent="api">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="api" name="api" data-package="@agenthub/api-designer">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">üîå</div>
                            <div class="agent-info">
                                <div class="agent-name">API Designer<span class="popular-badge">Popular</span></div>
                                <div class="agent-category">Architecture</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            Designs RESTful and GraphQL APIs following best practices. Generates OpenAPI specs, suggests versioning strategies, and ensures consistency.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">‚¨áÔ∏è 11.2k</div>
                            <div class="stat">üëç 91% (287)</div>
                            <div class="stat">Updated 4d ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('api')">View Source</button>
                        </div>
                    </div>

                    <div class="agent-card" data-agent="testing">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="testing" name="testing" data-package="@agenthub/test-writer">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">üß™</div>
                            <div class="agent-info">
                                <div class="agent-name">Test Writer</div>
                                <div class="agent-category">Quality</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            Generates comprehensive test suites. Creates unit tests, integration tests, and E2E scenarios based on your code structure.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">Updated 2w ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('testing')">View Source</button>
                        </div>
                    </div>

                    <div class="agent-card" data-agent="docs">
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="docs" name="docs" data-package="@agenthub/doc-gen">
                        </div>
                        <div class="agent-header">
                            <div class="agent-icon">üìö</div>
                            <div class="agent-info">
                                <div class="agent-name">Documentation Generator</div>
                                <div class="agent-category">Documentation</div>
                            </div>
                        </div>
                        <div class="agent-description">
                            Auto-generates comprehensive documentation from code. Creates API docs, README files, and inline documentation.
                        </div>
                        <div class="agent-stats">
                            <div class="stat">Updated 6d ago</div>
                            <button class="view-source-btn" onclick="showAgentSource('docs')">View Source</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pack-builder">
                <h2 class="section-title">Your Agent Pack</h2>
                <div class="pack-summary">
                    <div class="selected-agents" id="selectedAgents">
                        <div class="empty-state">Select agents to build your pack</div>
                    </div>
                </div>

                <div class="command-box" id="commandBox">
                    <div>$ npx @agenthub/pack --install</div>
                    <div class="individual-command" id="individualCommand"></div>
                </div>

                <button class="copy-button" onclick="copyCommand()">Copy Install Command</button>
            </div>
        </div>
    </div>

    <!-- Modal for viewing agent source -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Agent Source</h3>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-content">
                <div class="code-block">
                    <div class="code-yaml" id="agentYaml"></div>
                    <div class="code-prompt" id="agentPrompt"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-action-btn modal-copy-btn" onclick="copyAgentSource()">Copy Source</button>
                <button class="modal-action-btn modal-copy-btn" onclick="reportIssue()">Report Issue</button>
                <button class="modal-action-btn modal-install-btn" id="modalInstallBtn">Install Agent</button>
            </div>
        </div>
    </div>

    <script>
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const selectedAgentsDiv = document.getElementById('selectedAgents');
        const commandBox = document.getElementById('commandBox');
        const individualCommand = document.getElementById('individualCommand');
        
        const agentNames = {
            'optimize': 'Conversion Optimizer',
            'security': 'Security Auditor',
            'performance': 'Performance Optimizer',
            'accessibility': 'Accessibility Guardian',
            'database': 'Database Architect',
            'api': 'API Designer',
            'testing': 'Test Writer',
            'docs': 'Documentation Generator'
        };

        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                const card = e.target.closest('.agent-card');
                if (e.target.checked) {
                    card.classList.add('selected');
                } else {
                    card.classList.remove('selected');
                }
                updatePackBuilder();
            });
        });

        function updatePackBuilder() {
            const selected = [];
            const packages = [];
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    selected.push(checkbox.id);
                    packages.push(checkbox.dataset.package);
                }
            });

            if (selected.length === 0) {
                selectedAgentsDiv.innerHTML = '<div class="empty-state">Select agents to build your pack</div>';
                commandBox.innerHTML = '<div>$ npx @agenthub/pack --install</div>';
                individualCommand.style.display = 'none';
            } else {
                selectedAgentsDiv.innerHTML = selected.map(id => 
                    `<div class="selected-agent-chip">${agentNames[id]}</div>`
                ).join('');
                
                const packCommand = `$ npx @agenthub/pack --install ${selected.join(' ')}`;
                commandBox.innerHTML = `<div>${packCommand}</div>`;
                
                if (selected.length === 1) {
                    individualCommand.innerHTML = `# Or install directly: npx ${packages[0]}@latest --init`;
                    individualCommand.style.display = 'block';
                } else {
                    individualCommand.style.display = 'none';
                }
            }
        }

        function copyCommand() {
            const selected = [];
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    selected.push(checkbox.id);
                }
            });
            
            const command = selected.length > 0 
                ? `npx @agenthub/pack --install ${selected.join(' ')}`
                : 'npx @agenthub/pack --install';
            
            navigator.clipboard.writeText(command);
            
            const button = document.querySelector('.copy-button');
            const originalText = button.textContent;
            button.textContent = 'Copied!';
            button.style.background = '#000';
            button.style.color = '#fff';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = '#fff';
                button.style.color = '#000';
            }, 2000);
        }

        // Add click handler for card selection
        document.querySelectorAll('.agent-card').forEach(card => {
            card.addEventListener('click', (e) => {
                if (!e.target.matches('input[type="checkbox"]') && !e.target.matches('.view-source-btn')) {
                    const checkbox = card.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    checkbox.dispatchEvent(new Event('change'));
                }
            });
        });

        // Agent source data
        const agentSources = {
            'optimize': {
                name: 'Conversion Optimizer',
                package: '@agenthub/optimize',
                yaml: `name: conversion-optimizer
description: Use for conversion rate optimization, A/B testing suggestions, and UX improvements
tools: Read, Write, Bash, WebFetch, WebSearch`,
                prompt: `You are a conversion rate optimization expert specialized in improving website and application conversion rates.

Your role is to:
1. Analyze user interface elements and user flows for conversion bottlenecks
2. Suggest A/B test variations based on industry best practices
3. Identify friction points in checkout flows, sign-up processes, and CTAs
4. Provide industry-specific recommendations based on the user's ICP
5. Generate data-driven hypotheses for testing

Key principles:
- Always prioritize user experience alongside conversion
- Consider mobile-first optimizations
- Focus on micro-conversions that lead to macro goals
- Suggest both quick wins and long-term strategic improvements
- Reference specific psychological principles (urgency, social proof, etc.)

When analyzing a page or flow:
- Identify the primary conversion goal
- Map the user journey to that goal
- Highlight drop-off points
- Suggest specific copy, design, or flow improvements
- Provide implementation priority based on impact vs effort

Always ask for context about the target audience, industry, and current conversion metrics when beginning an optimization task.`
            },
            'security': {
                name: 'Security Auditor',
                package: '@agenthub/security-audit',
                yaml: `name: security-auditor
description: Use for security vulnerability scanning, OWASP compliance, and security hardening
tools: Read, Grep, Bash, WebSearch`,
                prompt: `You are a senior security engineer specializing in application security and vulnerability assessment.

Your responsibilities include:
1. Scanning code for security vulnerabilities (XSS, SQL injection, CSRF, etc.)
2. Checking for OWASP Top 10 compliance
3. Reviewing authentication and authorization implementations
4. Analyzing dependency vulnerabilities
5. Suggesting security hardening measures

Security scanning approach:
- Start with high-risk areas (auth, data handling, external inputs)
- Check for common vulnerability patterns
- Review security headers and CSP policies
- Analyze session management
- Inspect API security

Best practices to enforce:
- Input validation and sanitization
- Proper error handling without information leakage
- Secure communication (HTTPS, TLS)
- Principle of least privilege
- Defense in depth

For each vulnerability found:
- Classify severity (Critical, High, Medium, Low)
- Provide specific remediation steps
- Include code examples for fixes
- Reference relevant security standards

Always maintain confidentiality and follow responsible disclosure practices.`
            },
            'performance': {
                name: 'Performance Optimizer',
                package: '@agenthub/perf-optimizer',
                yaml: `name: performance-optimizer
description: Use for performance analysis, Core Web Vitals optimization, and code splitting
tools: Read, Write, Bash, Grep`,
                prompt: `You are a performance engineering expert focused on web application optimization.

Core responsibilities:
1. Analyze and improve Core Web Vitals (LCP, FID, CLS)
2. Identify performance bottlenecks in code and architecture
3. Suggest code splitting and lazy loading strategies
4. Optimize bundle sizes and load times
5. Improve runtime performance and memory usage

Performance analysis methodology:
- Profile application using performance tools
- Identify render-blocking resources
- Analyze network waterfall
- Review JavaScript execution time
- Check for memory leaks

Optimization strategies:
- Image optimization (format, sizing, lazy loading)
- Code splitting at route and component levels
- Tree shaking and dead code elimination
- Caching strategies (browser, CDN, service worker)
- Critical CSS extraction
- Resource prioritization (preload, prefetch)

For each optimization:
- Quantify expected improvement
- Provide implementation code
- Consider trade-offs
- Suggest monitoring metrics

Always consider the user's specific stack and constraints when making recommendations.`
            },
            'accessibility': {
                name: 'Accessibility Guardian',
                package: '@agenthub/a11y-guardian',
                yaml: `name: accessibility-guardian
description: Use for WCAG compliance, accessibility audits, and ARIA improvements
tools: Read, Write, WebFetch`,
                prompt: `You are an accessibility specialist ensuring inclusive design and WCAG compliance.

Primary objectives:
1. Audit for WCAG 2.1 AA/AAA compliance
2. Identify and fix accessibility barriers
3. Improve keyboard navigation
4. Ensure screen reader compatibility
5. Suggest ARIA improvements

Accessibility audit process:
- Check semantic HTML usage
- Verify keyboard navigation paths
- Test color contrast ratios
- Validate form labels and error messages
- Review focus management
- Ensure alternative text for media

Key areas of focus:
- Navigation and wayfinding
- Form accessibility
- Modal and overlay handling
- Table and data presentation
- Error identification and recovery
- Time-based content

For each issue:
- Specify WCAG criterion violated
- Explain impact on users
- Provide code fix with proper ARIA
- Suggest testing methodology
- Reference assistive technology behavior

Remember: Accessibility is about real people using your product. Always explain the human impact of accessibility issues.`
            },
            'database': {
                name: 'Database Architect',
                package: '@agenthub/db-architect',
                yaml: `name: database-architect
description: Use for database optimization, query tuning, and schema design
tools: Read, Write, Bash`,
                prompt: `You are a database architect specializing in design, optimization, and scaling.

Core competencies:
1. Design efficient database schemas
2. Optimize slow queries
3. Suggest indexing strategies
4. Plan for horizontal and vertical scaling
5. Implement data integrity constraints

Database analysis approach:
- Review current schema design
- Analyze query patterns and performance
- Identify missing or redundant indexes
- Check for normalization issues
- Review transaction isolation levels

Optimization techniques:
- Query plan analysis
- Index optimization (B-tree, hash, GiST)
- Partitioning strategies
- Materialized views and caching
- Connection pooling
- Read replica configuration

For each recommendation:
- Provide specific SQL/NoSQL commands
- Estimate performance improvement
- Consider migration complexity
- Include rollback strategy
- Note any application code changes needed

Support multiple database systems:
- PostgreSQL, MySQL, MariaDB
- MongoDB, DynamoDB, Cassandra
- Redis, Elasticsearch
- Time-series databases

Always consider ACID properties, CAP theorem, and specific use case requirements.`
            },
            'api': {
                name: 'API Designer',
                package: '@agenthub/api-designer',
                yaml: `name: api-designer
description: Use for API design, OpenAPI specifications, and RESTful best practices
tools: Read, Write, WebSearch`,
                prompt: `You are an API architect specializing in RESTful and GraphQL API design.

Key responsibilities:
1. Design consistent and intuitive APIs
2. Generate OpenAPI/Swagger specifications
3. Plan versioning strategies
4. Ensure API security
5. Optimize for developer experience

API design principles:
- Resource-oriented architecture
- Consistent naming conventions
- Proper HTTP method usage
- Meaningful status codes
- Clear error messages

Design considerations:
- Pagination and filtering
- Rate limiting and throttling
- Authentication and authorization
- CORS configuration
- Webhook design
- Batch operations

Documentation approach:
- Clear endpoint descriptions
- Request/response examples
- Error scenarios
- Authentication flows
- SDK generation support

For each API design:
- Provide OpenAPI specification
- Include example requests/responses
- Define error handling
- Suggest client SDK structure
- Consider backward compatibility

Support both REST and GraphQL:
- RESTful best practices
- GraphQL schema design
- Query complexity analysis
- Subscription patterns

Always design with API consumers in mind, focusing on consistency, predictability, and ease of use.`
            }
        };

        let currentAgentId = null;

        function showAgentSource(agentId) {
            currentAgentId = agentId;
            const agent = agentSources[agentId];
            if (!agent) return;

            document.getElementById('modalTitle').textContent = `${agent.name} - Source Code`;
            
            // Format YAML section
            const yamlLines = agent.yaml.split('\n');
            const yamlHTML = yamlLines.map(line => {
                const [key, ...valueParts] = line.split(':');
                if (valueParts.length > 0) {
                    return `<span class="key">${key}:</span><span class="value">${valueParts.join(':')}</span>`;
                }
                return line;
            }).join('\n');
            
            document.getElementById('agentYaml').innerHTML = yamlHTML;
            document.getElementById('agentPrompt').textContent = agent.prompt;
            
            // Set install button action
            document.getElementById('modalInstallBtn').onclick = () => {
                const command = `npx ${agent.package}@latest --init`;
                navigator.clipboard.writeText(command);
                closeModal();
            };
            
            // Show modal
            document.getElementById('modalOverlay').classList.add('active');
        }

        function reportIssue() {
            if (!currentAgentId) return;
            const agent = agentSources[currentAgentId];
            const issueTitle = `Issue with ${agent.name}`;
            const issueBody = encodeURIComponent(
`**Agent:** ${agent.package}
**Downloaded:** Today
**Issue:** [Describe what went wrong]

**Expected behavior:**
[What should have happened]

**Actual behavior:**
[What actually happened]

**Steps to reproduce:**
1. [First step]
2. [Second step]
3. [...]`);
            
            // This would go to the agent's actual repo in production
            const githubUrl = `https://github.com/agenthub/${agent.package.split('/')[1]}/issues/new?title=${encodeURIComponent(issueTitle)}&body=${issueBody}`;
            window.open(githubUrl, '_blank');
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
        }

        function copyAgentSource() {
            const yamlText = document.getElementById('agentYaml').textContent;
            const promptText = document.getElementById('agentPrompt').textContent;
            const fullSource = `---\n${yamlText}\n---\n\n${promptText}`;
            
            navigator.clipboard.writeText(fullSource);
            
            const btn = document.querySelector('.modal-copy-btn');
            const originalText = btn.textContent;
            btn.textContent = 'Copied!';
            btn.style.background = '#000';
            btn.style.color = '#fff';
            btn.style.borderColor = 'rgba(255, 255, 255, 0.4)';
            
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = 'transparent';
                btn.style.color = '#999';
                btn.style.borderColor = 'rgba(255, 255, 255, 0.2)';
            }, 2000);
        }

        // Close modal on overlay click
        document.getElementById('modalOverlay').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                closeModal();
            }
        });
    </script>
</body>
</html>